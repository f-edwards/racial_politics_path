---
title: "Settler colonial projects and variation in paths to building the welfare and carceral state"
author: "Frank Edwards"
date: "last updated `r Sys.Date()`"
output: bookdown::html_document2
abstract: "Place and time variation in settler colonial projects are related to the kinds of states that settler elites build."
---
```{r setup, include = F, message = F, cache = F}
knitr::opts_chunk$set(message = F, echo = F, warning = F)
library(tidyverse)
library(lme4)
library(maps)
library(usmap)
library(grid)
library(gridExtra)
library(brms)
library(tidycensus)
library(tigris)
library(units)
library(sf)

options(tigris_use_cache = T)
options(scipen = 999)
options(dplyr.print_max = 30)
map<-map_data("state")
theme_set(theme_minimal())
```

```{r read, include = F, message = F, cache = T}

### state shape file
st<-states(cb = T) %>%
  st_transform(8528) %>% 
  filter(!STUSPS%in%
           c("HI", "AK", 
             "PR", "GU", "AS","VI",
             "MP"))

# read data from make_* scripts
pop<-read_csv("./data/temp_population_ts.csv")%>%
  filter(STUSPS!="AK")
disp<-read_csv("./data/temp_disposession_ts.csv")%>%
  filter(STUSPS!="AK")
dist<-read_csv("./data/temp_distribution_ts.csv")%>%
  filter(STUSPS!="AK")

## add region to all
disp<-disp %>%
  left_join(pop %>%
              select(STUSPS, region, division) %>%
  distinct())

dist<-dist %>%
  left_join(pop %>%
              select(STUSPS, region, division) %>%
  distinct()) 

source("models.R")
```

# Introduction

This paper proposes a comparative quantitative framework for understanding how the geographic process of settler colonization results in different styles of governance across places (simultaneous settler projects). We show that spatial and temporal variation in modes of settler colonial extraction and exploitation are closely related to trajectories of state formation across places. 

At a sub-national level, settler colonial regimes seek to address a range of problems inherent to their nation-building project: the dispossession of indigenous lands, the erasure of indigenous peoples, the exploitation of racially marginalized laborers, and the reproduction and expansion of the settler polity. We show that the historical geography of these problems of settler colonial governance were closely related to the policy infrastructure to manage social life that governments develop. 

<!-- Historians tell us these projects were active locally. 1. Frontier; 2. Jim Crow; 3. Metropole. Can we use demographic, legal, and employment data to map it out / model it? -->

Following Wolfe, DuBois, etc, variation in the interests of elites across places (material + cultural) drives variation in processes of racialization across places. The state is a key vector through which racialization is implemented. Early 20th c. saw rapid development and expansion of social state. Can we observe differences in social state developmental trajectories as a function of variation in elite interests in particular racial projects? Are regional differences in social policy regimes a function of the social, demographic, and economic interests of regional elites? 

<!-- Stratification in frontier was settler social democracy; flat social relations among settlers, extreme hostility to Native. Stratification in Jim Crow was rigid racial + class hierarchy; extreme wealth concentration and rigid racialized exploitation + social exclusion. Stratification in metropole was more fluid racial + class hierarchy; extreme concentration but porous boundaries, fewer bright lines. -->

<!-- Basic theory though is that interests of elites are racialized as a function of local social relations, and inform social policy development. This can lock in particular racial regimes over time as social policy does work on social groups. -->

<!-- 1. Frontier settler polity -> elite interest in disposession / assimiatilion -> aggressive paternalistic welfare state for AIAN, social democracy for settlers -->
<!-- 2. Jim Crow -> elite interest in exploitation and exclusion -> elite paternalism, malign neglect, hard coercion -->
<!-- 3. Metropole settler polity -> elite interests in labor discipline / immig assimilation -> progressive paternalism, strong coercive welfare state for W, hard coercion and contested welfare for Blk -->

<!-- IMPLICATIONS - a) settler colonization as structure / structuring: context is key, and when SC is active, likely can be predictive; b) durable consequences for policy institutions (legacies, etc); c) comparative state formation / comparative welfare / carceral states.  -->

<!-- # What is already known about settler colonization and state formation in late 19th and Early 20th c.  -->

<!-- ## Frontier -->

<!-- review here -->

<!-- ## Jim Crow -->

<!-- review here -->

<!-- ## Metropole  -->

<!-- review here -->

# Methods

*We evaluate whether a set of policy outcomes {employment, infrastructure} are related to a set of demographic and economic predictors {population composition, economic activity, ownership regime} at the state and year-levels.*

To do so, we rely on historical data from the US Census accessed via IPUMS (Ruggles et al), from the Bureau of Land Management (Archived by the University of Nebraska), from the US Department of the Interior (CITE BS REPORT), and from records our team digitized from the Commissioner on Indian Affairs (CITE). 

<!-- Less interested in causal identification, more interested in understanding spatial patterns and trajectories. We already know there was spatial variation in settler colonial contexts and policy systems, trying to see if we can capture it systematically with national quant data. Move from specific to general.  -->

Generally our approach demonstrates suggests that state formation in a particular place *s* and time *t* is a function of settler elite interests specific to that time and place. 

\[E[\textrm{infrastructure}_{st}] = f(\textrm{settler interests}_{st})\]

<!-- negative case re: black underdevelopment h1: no social workers in places with large black pops at period of emergence in t1 -->

<!-- positive case: white immigrants -> more social workers in t1 -->

<!-- here we are looking at how contexts in post-civil war -> progressive era US related to the emergence of the social state in the us.  -->

<!-- ## NOTES ON GEOGRAPHIES and MEASUREMENT -->

<!-- TALK ABOUT STATES, TERRITORIES, WESTERN EXPANSION. CONTESTATION AND TRANSFORMATION ARE KEY PROCESSES OF COLONIZATION. SETTLER COLONIALISM IS A SPATIAL STRUCTURE, NOT A SETTLED FACT, ESP VISIBLE IN THIS PERIOD.  -->

<!-- STATES ARE WEIRD UNITS, BUT MAP CLEANLY ONTO ADMIN / LEGAL UNITS. TRIBAL NATIONS BOUNDARIES ARE ALSO V USEFUL, AS ARE SUB-STATE ANALYSES (EG CITIES COUNTIES ETC).  -->

<!-- geography itself endogenous to settler colonization, this is tricky! -->

## Sources of data

Census (pop, employment, group quarters); ARCIA; Interior; BLM; US Forest Service. 

<!-- CONSIDER GOING 1880 - 1920 to capture period more effectively? no social workers will be in there tho... -->

<!-- we treat police, education, and social work employment as core areas of the domestic social state. what is the name for that? the welfare state? the carceral state? the therapeutic state? that thing.  -->

<!-- let's look at how it played out in the progressive era across states and regions. we are cutting the data at 1900 - 1930, wanting to capture the boom in progressive reforms that started in the late 1890s and continued until the great depression. -->

<!-- First, the full country. How many people were employed in these social regulation / reproduction functions over time per capita? -->

We use IPUMS 100% census data for 1900 - 1930 to count employment levels nationally and across states. A census respondent is counted as a police employee if their code for the IPUMS variable OCC1950 is equal to one of {771 Marshals and constables, 773 Policemen and detectives, 782 Sheriffs and bailiffs}; coded social worker if OCC1950 is coded 079 Social and welfare worker; and coded teacher if OCC1950 is equal to 093 Teachers (n.e.c.). We convert these into employment rates per 1,000 population using the full population at the state (and nation) level. 

### measures

All measures are computed at the state-year level. 

EMPLOYMENT: 

- teachers (1900 - 1930 100%)
- cops (1900 - 1930 100%)
- social workers (1900 - 1930 100%)

POPULATION: 

- total (1900 - 1930 1%)
- children (1900 - 1930 1%)
- white immigrants in *urban households* (1900 - 1930 1%)
- Black population living in tenant farm households (1900 - 1930 1%)
- Population in group quarters (correctional institutions) (1900 100%, 1910 1.4%, 1920 - 1930 100%)
- Population in group quarters (mental institutions) (1900 100%, 1910 1.4%, 1920 - 1930 100%)
- Population in group quarters (institutions for the elderly, handicapped, and poor) (1900 100%, 1910 1.4%, 1920 - 1930 100%)

LAND: 

- cumulative acres parceled through the Morill Act (Robert Lee, ``Morrill Act of 1862 Indigenous Land Parcels Database,'' High Country News, 2020)
- cumulative acres parceled through the Homestead Act (``Homesteads,'' Bureau of Land Management of the U.S. Department of the Interior, 1962. digitized by Edwards, Friefeld and and Wingo 2017)

## statistical methods and models

Model is 

\[ y_{st} \sim \textrm{NegBin}(\lambda, \alpha)\]

\[ \lambda = \textrm{E}[y_{st}] \]

\[ \log \left( \frac{\textrm{E}[y_{st}]}{\textrm{population}_{st}} \right) = \gamma_s + \delta_t + \beta_1 \frac{\textrm{Black tenant farmers}_{st}}{\textrm{population}_{st}} + \beta_2 \frac{\textrm{White urban immigrants}_{st}}{\textrm{population}_{st}} + \beta_3 \textrm{Morill and Homestead acres}_{st} \]

\[\gamma_s \sim N(0, \sigma^2_\gamma)\]

With weakly informative priors

\[\beta \sim N(0, 20)\]
\[\sigma \sim t(3, 0, 2.5)\]
\[\alpha \sim \textrm{Gamma}(0.01, 0.01)\]

# Findings

We suggest that regionally-specific political contexts, driven by spatially and temporally varying interests of white settler elites, caused variation in trajectories of welfare state formation across US states. In this study, we explore how three settler colonial political projects mattered for the emergence of the US welfare state: the economic exploitation and social exclusion of Black people from the settler polity, the consolidation of settler political, social, and cultural claims on Indigenous territories, and the incorporation of urban European immigrants into the settler polity. 

The works of settler colonial and racial politics historical and theoretical scholars suggest a straightforward approach to selecting measures that are either a) direct, or b) proxy measures for elite white settler interests given a few assumptions about relationships between population distributions and political processes.

```{r fig.cap = "demographic map of US in 1900 - Black, White immig, white non-immig"}
plot_dat<-pop %>% 
  filter(year == 1900) %>% 
  mutate(white_non_immig = white_non_immig / (white_non_immig + white_immig),
         white_immig = 1 - white_non_immig,
         black = blk / tot_pop) %>% 
  select(STUSPS, white_immig, white_non_immig, black) %>% 
  pivot_longer(cols = white_immig:black) %>% 
  mutate(name = case_when(
    name == "black" ~ "Black / \ntotal population",
    name == "white_immig" ~ "White immigrant/\ntotal white population",
    name == "white_non_immig" ~ "White non-immigrant/\ntotal white population"
  ))

st %>% 
  left_join(plot_dat) %>% 
  filter(!is.na(value)) %>% 
  ggplot(aes(fill = value)) + 
  geom_sf() + 
  facet_wrap(~name, ncol = 3) + 
  theme_void() + 
  scale_fill_viridis_c() + 
  theme(legend.position = "bottom") + 
  labs(fill = "")
```

This map shows key features of the demography of the US in 1900 that are closely related to the geography of settler colonialism in the early 20th century US. 

BLACK POPS IN JIM CROW SOUTH

US BORN WHITE POPS IN SOUTH, NEW ENGLAND, RURAL PARTS OF INNER MIDWEST

FOREIGN BORN WHITE POPS THROUGHOUT CITIES, WESTERN FRONTIER

FIG 2, 3 - native disposession

```{r}
st<-states(cb = T) %>%
  st_transform(8528) %>% 
  filter(!STUSPS%in%
           c("HI", "AK", 
             "PR", "GU", "AS","VI",
             "MP"))

st_acres<-data.frame(state = st$STUSPS,
                     total_acres_2021 = as.numeric(set_units(st_area(st), "acre")))

### royce map data
## available here: https://data-usfs.hub.arcgis.com/datasets/usfs::tribal-lands-ceded-to-the-united-states-feature-layer/about
## and archived here: https://data.nativeland.info/dataset/indian-land-cessions-in-the-united-states-1784-1894/resource/e2b874d5-3c39-4287-bf89-d4ef14b87c83
cessions<-read_sf("./data/us_forest_cessions_royce/S_USA.TRIBALCEDEDLANDS.shp")

cessions_dat<-read_csv("./data/us_forest_cessions_royce/royce.csv") %>% 
  mutate(time = as_date(TribalCededLandsTableCessDate1),
         year = year(time)) %>% 
  rename(CESSNUM = TribalCededLandsNewCESSNUM) %>% 
  select(CESSNUM, year)

cessions<-cessions %>% 
  left_join(cessions_dat)

cessions<-cessions %>% 
  st_transform(8528)

cessions_diff<-st_difference(st, st_union(cessions))

cessions_diff<-cessions_diff %>% 
  mutate(year = NA)

### layer state boundaries
cessions<-st_intersection(cessions, st)
### add in settler claimed territories as of 1796
cessions2 <- cessions %>%  
  bind_rows(cessions_diff %>%  
              mutate(year = NA))

ggplot(cessions2,
       aes(fill = year)) + 
  geom_sf() + 
  theme_void() + 
  scale_fill_viridis_c() + 
  labs(fill = "Year",
       title = "Post-1784 Indigenous disposession",
       subtitle = "Cessions to US federal government through 1894") 
```

MANY OF THE LOCATIONS THESE FIRST GENERATION SETTLERS WERE GOING TO WERE RECENT DISPOSESSIONS, PARTICULARLY CIVIL WAR ERA. IN 1900, MANY OF THESE LANDS HAD BEEN CLAIMED BY US IN VERY RECENT PAST, WITHIN 50 YEARS. SECOND / THIRD WAVE OF WESTERN SETTLERS. BUILDING THE SETTLER COLONIAL POLITY / NATION STATE AS KEY AGENDAS.

```{r fig.cap = "Disposession of Native lands in the 19th c."}
p1<-ggplot(disp,
       aes(x = year,
           group = STUSPS)) + 
  geom_line(aes(y = cumulative_ceded / 1e6)) + 
  labs(x = "Year",
       y = "Acres (millions)") + 
  lims(y = c(0, 150)) + 
  facet_wrap(region~division) + 
  labs(subtitle = "1. Total land cessions")

p2<-ggplot(disp,
       aes(x = year,
           group = STUSPS)) + 
  geom_line(aes(y = prop_ceded)) + 
  labs(x = "Year",
       y = "Proportion") + 
  facet_wrap(region~division) + 
  labs(subtitle = "2. Proportion of state area")

grid.arrange(p1, p2, ncol = 2)
```

This shows the timing and spatial distribution in cumulative land disposession by state and region. Panel 1 shows the lands claimed by the US in millions of acres by state from 1796 - 1894. Panel 2 shows these patterns of Native land loss as a proportion of the contemporary areas of US states.  

Clear regional patterns here. Land loss occurred earlier in states closer to the Atlantic coast. Dispossession accelerated in the North Central and Western regions throughout the middle portion of the 19th c. 

```{r fig.cap = "Two mechanisms for the distribution of disposessed Native Lands to settlers"}
pdat<-disp %>% 
  select(STUSPS, total_acres_2021) %>% 
  distinct() %>% 
  left_join(dist %>% 
              filter(year == 1900) %>% 
              select(STUSPS, morill_acres_cum, homestead_acres_cum)) %>% 
  replace_na(list(morill_acres_cum = 0, homestead_acres_cum = 0)) %>% 
  left_join(st)

p1<-ggplot(pdat) + 
  geom_sf(aes(geometry = geometry,
              fill = morill_acres_cum / 1e6)) + 
  scale_fill_viridis_c() + 
  theme_void() + 
  labs(fill = "Acres (millions)",
       subtitle = "1. Lands patented under Morill Act (1862) by 1900") + 
  theme(legend.position = "bottom")


p2<-ggplot(pdat) + 
  geom_sf(aes(geometry = geometry,
              fill = homestead_acres_cum / 1e6)) + 
  scale_fill_viridis_c() + 
  theme_void() + 
  labs(fill = "Acres (millions)",
       subtitle = "2. Lands patented under Homestead Act (1862) by 1900") + 
  theme(legend.position = "bottom")

grid.arrange(p1, p2, ncol = 2)
```

FIGURE - by employment type, facet ~ year

```{r}
pdat<-pop %>% 
  left_join(st)
# could use children in denominator here
# keeping as total population for comparison 
ggplot(pdat,
       aes(fill = teachers / tot_pop * 1e3)) + 
  geom_sf(aes(geometry = geometry)) + 
  facet_wrap(~year) + 
  scale_fill_viridis_c() + 
  theme_void() + 
  labs(fill = "Teachers per\n1,000 population")

ggplot(pdat,
       aes(fill = police / tot_pop * 1e3)) + 
  geom_sf(aes(geometry = geometry)) + 
  facet_wrap(~year) + 
  scale_fill_viridis_c() + 
  theme_void() + 
  labs(fill = "Police per\n1,000 population")

ggplot(pdat,
       aes(fill = socwork / tot_pop * 1e3)) + 
  geom_sf(aes(geometry = geometry)) + 
  facet_wrap(~year) + 
  scale_fill_viridis_c() + 
  theme_void() + 
  labs(fill = "Social Workers per\n1,000 population")
  
```

FIG 2 - employment maps. 

INST MAPS

```{r}
ggplot(pdat, aes(fill = inst_correctional / tot_pop * 1e3)) + 
  geom_sf(aes(geometry = geometry)) + 
  facet_wrap(~year) + 
  theme_void() + 
  scale_fill_viridis_c()

ggplot(pdat, aes(fill = inst_mental / tot_pop * 1e3)) + 
  geom_sf(aes(geometry = geometry)) + 
  facet_wrap(~year) + 
  theme_void() + 
  scale_fill_viridis_c()

ggplot(pdat, aes(fill = inst_poor_disabled / tot_pop * 1e3)) + 
  geom_sf(aes(geometry = geometry)) + 
  facet_wrap(~year) + 
  theme_void() + 
  scale_fill_viridis_c()
```

THEN MODELS

DISPOSESSION MEASURES - YEAR OF LAST TREATY SIGNED, ACRES PATENTED UNDER MORILL AND HOMESTEAD



model 1: teachers ~ jim crow, urbanization, disposession (child control?)






